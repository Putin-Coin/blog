{"version":3,"sources":["assets/javascript/node_modules/browser-pack/_prelude.js","assets/javascript/main.js","assets/javascript/assets/javascript/analytics.js","assets/javascript/assets/javascript/content-loader.js","assets/javascript/assets/javascript/drawer.js","assets/javascript/assets/javascript/history2.js","assets/javascript/assets/javascript/main.js","assets/javascript/node_modules/autotrack/lib/constants.js","assets/javascript/node_modules/autotrack/lib/plugins/media-query-tracker.js","assets/javascript/node_modules/autotrack/lib/plugins/outbound-link-tracker.js","assets/javascript/node_modules/autotrack/lib/plugins/page-visibility-tracker.js","assets/javascript/node_modules/autotrack/lib/plugins/social-tracker.js","assets/javascript/node_modules/autotrack/lib/provide.js","assets/javascript/node_modules/autotrack/lib/utilities.js","assets/javascript/node_modules/closest/index.js","assets/javascript/node_modules/date-now/index.js","assets/javascript/node_modules/debounce/index.js","assets/javascript/node_modules/delegate/src/delegate.js","assets/javascript/node_modules/dom-utils/lib/closest.js","assets/javascript/node_modules/dom-utils/lib/delegate.js","assets/javascript/node_modules/dom-utils/lib/matches.js","assets/javascript/node_modules/dom-utils/lib/parents.js","assets/javascript/node_modules/dom-utils/lib/parse-url.js","assets/javascript/node_modules/matches-selector/index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","autotrack/lib/plugins/media-query-tracker","autotrack/lib/plugins/outbound-link-tracker","autotrack/lib/plugins/page-visibility-tracker","autotrack/lib/plugins/social-tracker",2,"getTitle","title","innerText","loadPageContent","done","path","this","nextPage","pageCache","basename","url","test","replace","xhr","XMLHttpRequest","open","onload","status","responseText","response","onerror","send","showPageContent","content","container","innerHTML","closeDrawer","drawer","close","setScroll","hash","target","document","getElementById","slice","scrollPos","offsetTop","window","scrollTo","trackPageview","ga","dimension4","trackError","error","exDescription","stack","message","delegate","parseUrl","History2","init","history","pushState","querySelector","location","pathname","history2","use","event","metaKey","ctrlKey","which","page","href","link","preventDefault","origin","add","./drawer","./history2","dom-utils/lib/delegate","dom-utils/lib/parse-url",3,"addClass","element","className","cls","indexOf","removeClass","prevClasses","split","newClasses","len","push","join","removeAttribute","handleDrawerToggleClick","isOpen","handleClickOutsideDrawerContainer","closest","documentElement","drawerToggle","addEventListener","dom-utils/lib/closest",4,"currentPage","replaceState","_queue","self","state","prototype","_processQueue","plugin","onError","_onError","console","_onComplete","type","next","isSync","apply",5,"./analytics","./content-loader",6,"DEV_ID",7,"MediaQueryTracker","tracker","opts","matchMedia","defaults","mediaQueryDefinitions","mediaQueryChangeTemplate","changeTemplate","mediaQueryChangeTimeout","isObject","toArray","changeListeners","processMediaQueries","getMediaListener","media","mediaMap","debounce","provide","NULL_DIMENSION","forEach","dimension","dimensionIndex","name","getMatchName","set","addChangeListeners","bind","match","items","item","matches","mql","fn","handleChanges","addListener","newValue","oldValue","get","remove","listener","removeListener","../provide","../utilities",8,"OutboundLinkTracker","shouldTrackOutboundLink","handleLinkClicks","delegateTarget","navigator","sendBeacon","transport","hostname","destroy",9,"PageVisibilityTracker","sessionTimeout","DEFAULT_SESSION_TIMEOUT","virtualPageviewFields","handleVisibilityStateChange","overrideTrackerSendMethod","overrideTrackerSendHitTask","visibilityState","sessionHasTimedOut","eventCategory","eventAction","eventLabel","minutesSinceLastHit","Date","lastHitTime","originalTrackerSendMethod","args","Array","arguments","firstArg","hitType","isPageview","originalTrackerSendHitTask","model","removeEventListener",10,"SocialTracker","attributePrefix","prefix","selector","handleSocialClicks","addWidgetListeners","addTwitterEventHandlers","handleTweetEvents","handleFollowEvents","handleLikeEvents","handleUnlikeEvents","readyState","FB","addFacebookEventHandlers","twttr","socialNetwork","getAttribute","socialAction","socialTarget","ready","events","err","removeTwitterEventHandlers","unbind","Event","subscribe","removeFacebookEventHandlers","unsubscribe","region","data","screenName","screen_name",11,"constants","utilities","gaDevIds","pluginName","pluginConstructor","gaAlias","gaplugins","capitalize","./constants","./utilities",12,"withTimeout","callback","wait","called","setTimeout","overrides","result","key","hasOwnProperty","str","charAt","toUpperCase","obj","isArray","arr","Object","toString",13,"checkYoSelf","parent","parentNode","matches-selector",14,"now","getTime",15,"func","immediate","later","last","timestamp","timeout","context","callNow","date-now",16,"useCapture","listenerFn",17,"parents","shouldCheckSelf","parentElements","concat","./matches","./parents",18,"ancestor","eventType","deep","deepPath","node","nodeType","./closest",19,"matchesSelector","nativeMatches","nodes","querySelectorAll","proto","Element","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector",20,"list",21,"HTTP_PORT","HTTPS_PORT","createElement","cache","protocol","port","host","search","fragment","query",22,"el","vendor"],"mappings":"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","file":"assets/javascript/main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n// Requires the individual autotrack plugins that are used in\n// templates/_analytics.html\nrequire('autotrack/lib/plugins/media-query-tracker');\nrequire('autotrack/lib/plugins/outbound-link-tracker');\nrequire('autotrack/lib/plugins/page-visibility-tracker');\nrequire('autotrack/lib/plugins/social-tracker');\n// require('autotrack/lib/plugins/url-change-tracker');\n\n},{\"autotrack/lib/plugins/media-query-tracker\":7,\"autotrack/lib/plugins/outbound-link-tracker\":8,\"autotrack/lib/plugins/page-visibility-tracker\":9,\"autotrack/lib/plugins/social-tracker\":10}],2:[function(require,module,exports){\n'use strict';\n\n/* global ga */\n\nvar delegate = require('dom-utils/lib/delegate');\nvar parseUrl = require('dom-utils/lib/parse-url');\nvar History2 = require('./history2');\nvar drawer = require('./drawer');\n\n// Cache the container element to avoid multiple lookups.\nvar container;\n\n// Store the result of page content requests to avoid multiple\n// lookups when navigation to a previously seen page.\nvar pageCache = {};\n\nfunction getTitle(a) {\n  var title = a.title || a.innerText;\n  return title ? title + ' — Philip Walton' : null;\n}\n\nfunction loadPageContent(done) {\n  var path = this.nextPage.path;\n\n  if (pageCache[path]) return done();\n\n  var basename = /(\\w+)\\.html$/;\n  var url = basename.test(path) ? path.replace(basename, '_$1.html') : path + '_index.html';\n\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', url);\n  xhr.onload = function () {\n    if (xhr.status >= 200 && xhr.status < 400) {\n      pageCache[path] = xhr.responseText;\n      done();\n    } else {\n      done(new Error('(' + xhr.status + ') ' + xhr.response));\n    }\n  };\n  xhr.onerror = function () {\n    done(new Error('Error making request to:' + url));\n  };\n  xhr.send();\n}\n\nfunction showPageContent() {\n  var content = pageCache[this.nextPage.path];\n  container.innerHTML = content;\n}\n\nfunction closeDrawer() {\n  drawer.close();\n}\n\nfunction setScroll() {\n  var hash = this.nextPage.hash;\n  if (hash) {\n    var target = document.getElementById(hash.slice(1));\n  }\n  var scrollPos = target ? target.offsetTop : 0;\n\n  // TODO: There's a weird chrome bug were sometime this function\n  // doesn't do anything if Chrome has already visited this page and\n  // thinks it has a scroll position in mind. Just chrome, weird...\n  window.scrollTo(0, scrollPos);\n}\n\nfunction trackPageview() {\n  ga('send', 'pageview', { dimension4: 'urlChangeTracker' });\n}\n\nfunction trackError(error) {\n  ga('send', 'exception', { exDescription: error.stack || error.message });\n}\n\nmodule.exports = {\n\n  init: function init() {\n\n    // Only load external content via AJAX if the browser support pushState.\n    if (!(window.history && window.history.pushState)) return;\n\n    // Add the current page to the cache.\n    container = document.querySelector('main');\n    pageCache[location.pathname] = container.innerHTML;\n\n    var history2 = new History2().use(loadPageContent).use(showPageContent).use(closeDrawer).use(setScroll).use(trackPageview)['catch'](trackError);\n\n    delegate(document, 'click', 'a[href]', function (event) {\n\n      // Don't attempt to load content if the user is trying to open a new tab.\n      if (event.metaKey || event.ctrlKey || event.which > 1) return;\n\n      var page = parseUrl(location.href);\n      var link = parseUrl(this.href);\n\n      // Don't do anything when clicking on links to the current URL.\n      if (link.href == page.href) event.preventDefault();\n\n      // If the clicked link is on the same site but has a different path,\n      // prevent the browser from navigating there and load the page via ajax.\n      if (link.origin == page.origin && link.path != page.path) {\n        event.preventDefault();\n        history2.add(link.href, getTitle(this));\n      }\n    });\n  }\n};\n\n},{\"./drawer\":3,\"./history2\":4,\"dom-utils/lib/delegate\":18,\"dom-utils/lib/parse-url\":21}],3:[function(require,module,exports){\n'use strict';\n\nvar closest = require('dom-utils/lib/closest');\n\nvar drawerContainer = document.getElementById('drawer-container');\nvar drawerToggle = document.getElementById('drawer-toggle');\nvar isOpen = false;\n\nfunction addClass(element, className) {\n  var cls = element.className;\n  if (!cls) {\n    element.className = className;\n    return;\n  } else if (cls.indexOf(className) > -1) {\n    return;\n  } else {\n    element.className = cls + ' ' + className;\n  }\n}\n\nfunction removeClass(element, className) {\n  var cls = element.className;\n  if (cls.indexOf(className) < 0) return;\n\n  var prevClasses = cls.split(/\\s/);\n  var newClasses = [];\n  for (var i = 0, len = prevClasses.length; i < len; i++) {\n    if (className != prevClasses[i]) newClasses.push(prevClasses[i]);\n  }\n\n  if (!newClasses.length) {\n    element.removeAttribute('class');\n  } else {\n    element.className = newClasses.join(' ');\n  }\n}\n\nfunction handleDrawerToggleClick(event) {\n  event.preventDefault();\n  isOpen ? close() : open();\n}\n\nfunction handleClickOutsideDrawerContainer(event) {\n  // Closes an open menu if the user clicked outside of the nav element.\n  if (isOpen && !closest(event.target, '#drawer-container', true)) close();\n}\n\nfunction open() {\n  isOpen = true;\n  addClass(document.documentElement, 'is-drawerOpen');\n}\n\nfunction close() {\n  isOpen = false;\n  removeClass(document.documentElement, 'is-drawerOpen');\n}\n\nmodule.exports = {\n  init: function init() {\n    drawerToggle.addEventListener('click', handleDrawerToggleClick);\n    drawerToggle.addEventListener('touchend', handleDrawerToggleClick);\n\n    document.addEventListener('click', handleClickOutsideDrawerContainer);\n    document.addEventListener('touchend', handleClickOutsideDrawerContainer);\n  },\n  open: open,\n  close: close\n};\n\n},{\"dom-utils/lib/closest\":17}],4:[function(require,module,exports){\n'use strict';\n\nvar parseUrl = require('dom-utils/lib/parse-url');\n\nfunction History2() {\n\n  // Store the current url information.\n  this.currentPage = parseUrl(window.location.href);\n  this.currentPage.title = document.title;\n\n  // Add history state initially so the first `popstate` event contains data.\n  history.replaceState(this.currentPage, this.currentPage.title, this.currentPage.href);\n\n  this._queue = [];\n\n  // Listen for popstate changes and log them.\n  var self = this;\n  window.addEventListener('popstate', function (event) {\n    var state = event.state;\n    var title = state && state.title;\n    self.add(window.location.href, title, state, event);\n  });\n}\n\nHistory2.prototype.add = function (url, title, state, event) {\n\n  // Ignore urls pointing to the current address\n  if (url == this.currentPage.href) return;\n\n  this.nextPage = parseUrl(url);\n  this.nextPage.title = title;\n  this.nextPage.state = state;\n\n  this._processQueue(event);\n};\n\n/**\n * Register a plugin with the History2 instance.\n * @param {Function(History2, done)} - A plugin that runs some task and\n *     informs the next plugin in the queue when it's done.\n */\nHistory2.prototype.use = function (plugin) {\n  this._queue.push(plugin);\n\n  return this;\n};\n\n/**\n * Register a handler to catch any errors.\n * Note: In ES3 reserved words like \"catch\" couldn't be used as property names:\n * http://kangax.github.io/compat-table/es5/#Reserved_words_as_property_names\n * @param {Function(Error)} - The function to handle the error.\n */\nHistory2.prototype['catch'] = function (onError) {\n  this._onError = onError;\n\n  return this;\n};\n\nHistory2.prototype._onError = function (error) {\n  // Left blank so calling `_onError` never fails.\n  console.error(error.stack);\n};\n\nHistory2.prototype._onComplete = function (event) {\n\n  if (this.nextPage.title) document.title = this.nextPage.title;\n\n  // Popstate triggered navigation is already handled by the browser,\n  // so we only add to the history in non-popstate cases.\n  if (!(event && event.type == 'popstate')) {\n    history.pushState(this.nextPage, this.nextPage.title, this.nextPage.href);\n  }\n\n  // Update the last url to the current url\n  this.currentPage = this.nextPage;\n  this.nextPage = null;\n};\n\nHistory2.prototype._processQueue = function (event) {\n  var self = this;\n  var i = 0;\n\n  (function next() {\n\n    var plugin = self._queue[i++];\n    var isSync = plugin && !plugin.length;\n\n    if (!plugin) return self._onComplete(event);\n\n    // The callback for async plugins.\n    function done(error) {\n      if (error) {\n        self._onError(error);\n      } else {\n        next();\n      }\n    }\n\n    try {\n      plugin.apply(self, isSync ? [] : [done]);\n    } catch (error) {\n      return self._onError(error);\n    }\n\n    // Sync plugins are done by now and can immediately process\n    // the next item in the queue.\n    if (isSync) next();\n  })();\n};\n\nmodule.exports = History2;\n\n},{\"dom-utils/lib/parse-url\":21}],5:[function(require,module,exports){\n'use strict';\n\n// Loads autotrack plugins.\nrequire('./analytics');\n\n// Loads link via AJAX instead of full page loads in browsers with pushState.\nrequire('./content-loader').init();\n\n// Turns on the collapsable drawer.\nrequire('./drawer').init();\n\n},{\"./analytics\":1,\"./content-loader\":2,\"./drawer\":3}],6:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nmodule.exports = {\n  DEV_ID: 'i5iSjo'\n};\n\n},{}],7:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar debounce = require('debounce');\nvar defaults = require('../utilities').defaults;\nvar isObject = require('../utilities').isObject;\nvar toArray = require('../utilities').toArray;\nvar provide = require('../provide');\n\n\n/**\n * Sets the string to use when no custom dimension value is available.\n */\nvar NULL_DIMENSION = '(not set)';\n\n\n/**\n * Declares the MediaQueryListener instance cache.\n */\nvar mediaMap = {};\n\n\n/**\n * Registers media query tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction MediaQueryTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.matchMedia) return;\n\n  this.opts = defaults(opts, {\n    mediaQueryDefinitions: false,\n    mediaQueryChangeTemplate: this.changeTemplate,\n    mediaQueryChangeTimeout: 1000\n  });\n\n  // Exits early if media query data doesn't exist.\n  if (!isObject(this.opts.mediaQueryDefinitions)) return;\n\n  this.opts.mediaQueryDefinitions = toArray(this.opts.mediaQueryDefinitions);\n  this.tracker = tracker;\n  this.changeListeners = [];\n\n  this.processMediaQueries();\n}\n\n\n/**\n * Loops through each media query definition, sets the custom dimenion data,\n * and adds the change listeners.\n */\nMediaQueryTracker.prototype.processMediaQueries = function() {\n  this.opts.mediaQueryDefinitions.forEach(function(dimension) {\n\n    if (!dimension.dimensionIndex) {\n      throw new Error('Media query definitions must have a name.');\n    }\n\n    if (!dimension.dimensionIndex) {\n      throw new Error('Media query definitions must have a dimension index.');\n    }\n\n    var name = this.getMatchName(dimension);\n    this.tracker.set('dimension' + dimension.dimensionIndex, name);\n\n    this.addChangeListeners(dimension);\n  }.bind(this));\n};\n\n\n/**\n * Takes a dimension object and return the name of the matching media item.\n * If no match is found, the NULL_DIMENSION value is returned.\n * @param {Object} dimension A set of named media queries associated\n *     with a single custom dimension.\n * @return {string} The name of the matched media or NULL_DIMENSION.\n */\nMediaQueryTracker.prototype.getMatchName = function(dimension) {\n  var match;\n\n  dimension.items.forEach(function(item) {\n    if (getMediaListener(item.media).matches) {\n      match = item;\n    }\n  });\n  return match ? match.name : NULL_DIMENSION;\n};\n\n\n/**\n * Adds change listeners to each media query in the dimension list.\n * Debounces the changes to prevent unnecessary hits from being sent.\n * @param {Object} dimension A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.addChangeListeners = function(dimension) {\n  dimension.items.forEach(function(item) {\n    var mql = getMediaListener(item.media);\n    var fn = debounce(function() {\n      this.handleChanges(dimension);\n    }.bind(this), this.opts.mediaQueryChangeTimeout);\n\n    mql.addListener(fn);\n    this.changeListeners.push({mql: mql, fn: fn});\n  }.bind(this));\n};\n\n\n/**\n * Handles changes to the matched media. When the new value differs from\n * the old value, a change event is sent.\n * @param {Object} dimension A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.handleChanges = function(dimension) {\n  var newValue = this.getMatchName(dimension);\n  var oldValue = this.tracker.get('dimension' + dimension.dimensionIndex);\n\n  if (newValue !== oldValue) {\n    this.tracker.set('dimension' + dimension.dimensionIndex, newValue);\n    this.tracker.send('event', dimension.name, 'change',\n        this.opts.mediaQueryChangeTemplate(oldValue, newValue));\n  }\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nMediaQueryTracker.prototype.remove = function() {\n  for (var i = 0, listener; listener = this.changeListeners[i]; i++) {\n    listener.mql.removeListener(listener.fn);\n  }\n  this.changeListeners = null;\n  this.tracker = null;\n  this.opts = null;\n};\n\n\n/**\n * Sets the default formatting of the change event label.\n * This can be overridden by setting the `mediaQueryChangeTemplate` option.\n * @param {string} oldValue\n * @param {string} newValue\n * @return {string} The formatted event label.\n */\nMediaQueryTracker.prototype.changeTemplate = function(oldValue, newValue) {\n  return oldValue + ' => ' + newValue;\n};\n\n\n\n/**\n * Accepts a media query and returns a MediaQueryListener object.\n * Caches the values to avoid multiple unnecessary instances.\n * @param {string} media A media query value.\n * @return {MediaQueryListener}\n */\nfunction getMediaListener(media) {\n  // Returns early if the media is cached.\n  if (mediaMap[media]) return mediaMap[media];\n\n  mediaMap[media] = window.matchMedia(media);\n  return mediaMap[media];\n}\n\n\nprovide('mediaQueryTracker', MediaQueryTracker);\n\n},{\"../provide\":11,\"../utilities\":12,\"debounce\":15}],8:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar defaults = require('../utilities').defaults;\nvar delegate = require('delegate');\nvar provide = require('../provide');\n\n\n/**\n * Registers outbound link tracking on a tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction OutboundLinkTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    shouldTrackOutboundLink: this.shouldTrackOutboundLink\n  });\n\n  this.tracker = tracker;\n\n  this.delegate = delegate(document, 'a',\n      'click', this.handleLinkClicks.bind(this));\n}\n\n\n/**\n * Handles all clicks on link elements. A link is considered an outbound link\n * its hostname property does not match location.hostname. When the beacon\n * transport method is not available, the links target is set to \"_blank\" to\n * ensure the hit can be sent.\n * @param {Event} event The DOM click event.\n */\nOutboundLinkTracker.prototype.handleLinkClicks = function(event) {\n  var link = event.delegateTarget;\n  if (this.opts.shouldTrackOutboundLink(link)) {\n    // Opens outbound links in a new tab if the browser doesn't support\n    // the beacon transport method.\n    if (!navigator.sendBeacon) {\n      link.target = '_blank';\n    }\n    this.tracker.send('event', 'Outbound Link', 'click', link.href, {\n      transport: 'beacon'\n    });\n  }\n};\n\n\n/**\n * Determines whether or not the tracker should send a hit when a link is\n * clicked. By default links with a hostname property not equal to the current\n * hostname are tracked.\n * @param {Element} link The link that was clicked on.\n * @return {boolean} Whether or not the link should be tracked.\n */\nOutboundLinkTracker.prototype.shouldTrackOutboundLink = function(link) {\n  return link.hostname != location.hostname;\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nOutboundLinkTracker.prototype.remove = function() {\n  this.delegate.destroy();\n  this.delegate = null;\n  this.tracker = null;\n  this.opts = null;\n};\n\n\nprovide('outboundLinkTracker', OutboundLinkTracker);\n\n},{\"../provide\":11,\"../utilities\":12,\"delegate\":16}],9:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar defaults = require('../utilities').defaults;\nvar isObject = require('../utilities').isObject;\nvar provide = require('../provide');\n\n\nvar DEFAULT_SESSION_TIMEOUT = 30; // 30 minutes.\n\n\n/**\n * Registers outbound link tracking on tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction PageVisibilityTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    sessionTimeout: DEFAULT_SESSION_TIMEOUT,\n    virtualPageviewFields: {},\n  });\n\n  this.tracker = tracker;\n\n  // Binds methods to `this`.\n  this.handleVisibilityStateChange = this.handleVisibilityStateChange.bind(this);\n\n\n  this.overrideTrackerSendMethod();\n  this.overrideTrackerSendHitTask();\n\n  document.addEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n}\n\n\n/**\n * Handles changes to `document.visibilityState`.\n */\nPageVisibilityTracker.prototype.handleVisibilityStateChange = function() {\n  var visibilityState = document.visibilityState;\n\n  if (this.sessionHasTimedOut()) {\n    // Prevents sending 'hidden' state hits when the session has timed out.\n    if (visibilityState == 'hidden') return;\n\n    if (visibilityState == 'visible') {\n      // If the session has timed out, a transition to \"visible\" should be\n      // considered a new pageview and a new session.\n      this.tracker.send('pageview', this.opts.virtualPageviewFields);\n    }\n  }\n  else {\n    this.tracker.send('event', {\n      eventCategory: 'Page Visibility',\n      eventAction: 'change',\n      eventLabel: document.visibilityState,\n      transport: 'beacon'\n    });\n  }\n};\n\n\n/**\n * Returns true if the session has not timed out. A session timeout occurs when\n * more than `this.opts.sessionTimeout` minutes has elapsed since the\n * tracker sent the previous hit.\n * @return {boolean} True if the session has timed out.\n */\nPageVisibilityTracker.prototype.sessionHasTimedOut = function() {\n  var minutesSinceLastHit = (new Date - this.lastHitTime) / (60 * 1000);\n  return this.opts.sessionTimeout < minutesSinceLastHit;\n}\n\n\n/**\n * Overrides the `tracker.send` method to send a pageview hit before the\n * current hit being sent if the session has timed out and the current hit is\n * not a pageview itself.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendMethod = function() {\n  this.originalTrackerSendMethod = this.tracker.send;\n\n  this.tracker.send = function() {\n    var args = Array.prototype.slice.call(arguments);\n    var firstArg = args[0];\n    var hitType = isObject(firstArg) ? firstArg.hitType : firstArg;\n    var isPageview = hitType == 'pageview';\n\n    if (!isPageview && this.sessionHasTimedOut()) {\n      this.originalTrackerSendMethod.call(this.tracker,\n          'pageview', this.opts.virtualPageviewFields);\n    }\n\n    this.originalTrackerSendMethod.apply(this.tracker, args);\n  }.bind(this);\n};\n\n\n/**\n * Overrides the tracker's `sendHitTask` to record the time of the previous\n * hit. This is used to determine whether or not a session has timed out.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendHitTask = function() {\n  this.originalTrackerSendHitTask = this.tracker.get('sendHitTask');\n  this.lastHitTime = +new Date;\n\n  this.tracker.set('sendHitTask', function(model) {\n    this.originalTrackerSendHitTask(model);\n    this.lastHitTime = +new Date;\n  }.bind(this));\n}\n\n\n/**\n * Removes all event listeners and instance properties.\n */\n PageVisibilityTracker.prototype.remove = function() {\n  this.tracker.set('sendHitTask', this.originalTrackerSendHitTask);\n  this.tracker.send = this.originalTrackerSendMethod;\n\n  document.removeEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n\n  this.tracker = null;\n  this.opts = null;\n\n  this.originalTrackerSendHitTask = null;\n  this.originalTrackerSendMethod = null;\n  this.handleVisibilityStateChange = null;\n  this.lastHitTime = null;\n};\n\n\nprovide('pageVisibilityTracker', PageVisibilityTracker);\n\n},{\"../provide\":11,\"../utilities\":12}],10:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar defaults = require('../utilities').defaults;\nvar delegate = require('delegate');\nvar provide = require('../provide');\n\n\n/**\n * Registers social tracking on tracker object.\n * Supports both declarative social tracking via HTML attributes as well as\n * tracking for social events when using official Twitter or Facebook widgets.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction SocialTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    attributePrefix: 'data-'\n  });\n\n  this.tracker = tracker;\n\n  var prefix = this.opts.attributePrefix;\n  var selector = '[' + prefix + 'social-network]' +\n                 '[' + prefix + 'social-action]' +\n                 '[' + prefix + 'social-target]';\n\n  // Binds methods to `this`.\n  this.handleSocialClicks = this.handleSocialClicks.bind(this);\n  this.addWidgetListeners = this.addWidgetListeners.bind(this);\n  this.addTwitterEventHandlers = this.addTwitterEventHandlers.bind(this);\n  this.handleTweetEvents = this.handleTweetEvents.bind(this);\n  this.handleFollowEvents = this.handleFollowEvents.bind(this);\n  this.handleLikeEvents = this.handleLikeEvents.bind(this);\n  this.handleUnlikeEvents = this.handleUnlikeEvents.bind(this);\n\n  this.delegate = delegate(document, selector,\n      'click', this.handleSocialClicks);\n\n  if (document.readyState != 'complete') {\n    // Adds the widget listeners after the window's `load` event fires.\n    // If loading widgets using the officially recommended snippets, they\n    // will be available at `window.load`. If not users can call the\n    // `addWidgetListeners` method manually.\n    window.addEventListener('load', this.addWidgetListeners);\n  }\n  else {\n    this.addWidgetListeners();\n  }\n}\n\n\n/**\n * Invokes the methods to add Facebook and Twitter widget event listeners.\n * Ensures the respective global namespaces are present before adding.\n */\nSocialTracker.prototype.addWidgetListeners = function() {\n  if (window.FB) this.addFacebookEventHandlers();\n  if (window.twttr) this.addTwitterEventHandlers();\n}\n\n\n/**\n * Handles all clicks on elements with social tracking attributes.\n * @param {Event} event The DOM click event.\n */\nSocialTracker.prototype.handleSocialClicks = function(event) {\n\n  var link = event.delegateTarget;\n  var prefix = this.opts.attributePrefix;\n\n  this.tracker.send('social', {\n    socialNetwork: link.getAttribute(prefix + 'social-network'),\n    socialAction: link.getAttribute(prefix + 'social-action'),\n    socialTarget: link.getAttribute(prefix + 'social-target')\n  });\n};\n\n\n/**\n * Adds event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons. Note: this does not capture tweet or\n * follow events emitted by other Twitter widgets (tweet, timeline, etc.).\n */\nSocialTracker.prototype.addTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.bind('tweet', this.handleTweetEvents);\n      twttr.events.bind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons.\n */\nSocialTracker.prototype.removeTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.unbind('tweet', this.handleTweetEvents);\n      twttr.events.unbind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Adds event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialTracker.prototype.addFacebookEventHandlers = function() {\n  try {\n    FB.Event.subscribe('edge.create', this.handleLikeEvents);\n    FB.Event.subscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialTracker.prototype.removeFacebookEventHandlers = function() {\n  try {\n    FB.Event.unsubscribe('edge.create', this.handleLikeEvents);\n    FB.Event.unsubscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Handles `tweet` events emitted by the Twitter JS SDK.\n */\nSocialTracker.prototype.handleTweetEvents = function(event) {\n  // Ignores tweets from widgets that aren't the tweet button.\n  if (event.region != 'tweet') return;\n\n  var url = event.data.url || event.target.getAttribute('data-url') ||\n      location.href;\n\n  this.tracker.send('social', 'Twitter', 'tweet', url);\n};\n\n\n/**\n * Handles `follow` events emitted by the Twitter JS SDK.\n */\nSocialTracker.prototype.handleFollowEvents = function(event) {\n  // Ignore follows from widgets that aren't the follow button.\n  if (event.region != 'follow') return;\n\n  var screenName = event.data.screen_name ||\n      event.target.getAttribute('data-screen-name');\n\n  this.tracker.send('social', 'Twitter', 'follow', screenName);\n}\n\n\n/**\n * Handles `like` events emitted by the Facebook JS SDK.\n */\nSocialTracker.prototype.handleLikeEvents = function(url) {\n  this.tracker.send('social', 'Facebook', 'like', url);\n};\n\n\n/**\n * Handles `unlike` events emitted by the Facebook JS SDK.\n */\nSocialTracker.prototype.handleUnlikeEvents = function(url) {\n  this.tracker.send('social', 'Facebook', 'unlike', url);\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nSocialTracker.prototype.remove = function() {\n  window.removeEventListener('load', this.addWidgetListeners);\n  this.removeFacebookEventHandlers();\n  this.removeTwitterEventHandlers();\n\n  this.delegate.destroy();\n  this.delegate = null;\n  this.tracker = null;\n  this.opts = null;\n\n  this.handleSocialClicks = null;\n  this.addWidgetListeners = null;\n  this.addTwitterEventHandlers = null;\n  this.handleTweetEvents = null;\n  this.handleFollowEvents = null;\n  this.handleLikeEvents = null;\n  this.handleUnlikeEvents = null;\n};\n\n\nprovide('socialTracker', SocialTracker);\n\n},{\"../provide\":11,\"../utilities\":12,\"delegate\":16}],11:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar constants = require('./constants');\nvar utilities = require('./utilities');\n\n\n// Adds the dev ID to the list of dev IDs if any plugin is used.\n(window.gaDevIds = window.gaDevIds || []).push(constants.DEV_ID);\n\n\n/**\n * Provides a plugin for use with analytics.js, accounting for the possibility\n * that the global command queue has been renamed or not yet defined.\n * @param {string} pluginName The plugin name identifier.\n * @param {Function} pluginConstructor The plugin constructor function.\n */\nmodule.exports = function providePlugin(pluginName, pluginConstructor) {\n  var gaAlias = window['GoogleAnalyticsObject'] || 'ga';\n  window[gaAlias] = window[gaAlias] || function() {\n    (window[gaAlias]['q'] = window[gaAlias]['q'] || []).push(arguments);\n  };\n\n  // Formally provides the plugin for use with analytics.js.\n  window[gaAlias]('provide', pluginName, pluginConstructor);\n\n  // Registers the plugin on the global gaplugins object.\n  window.gaplugins = window.gaplugins || {};\n  window.gaplugins[utilities.capitalize(pluginName)] = pluginConstructor;\n};\n\n},{\"./constants\":6,\"./utilities\":12}],12:[function(require,module,exports){\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar utilities = {\n\n  /**\n   * Accepts a function and returns a wrapped version of the function that is\n   * expected to be called elsewhere in the system. If it's not called\n   * elsewhere after the timeout period, it's called regardless. The wrapper\n   * function also prevents the callback from being called more than once.\n   * @param {Function} callback The function to call.\n   * @param {number} wait How many milliseconds to wait before invoking\n   *     the callback.\n   */\n  withTimeout: function(callback, wait) {\n    var called = false;\n    setTimeout(callback, wait || 2000);\n    return function() {\n      if (!called) {\n        called = true;\n        callback();\n      }\n    };\n  },\n\n\n  /**\n   * Accepts an object of overrides and defaults and returns a new object\n   * with the values merged. For each key in defaults, if there's a\n   * corresponding value in overrides, it gets used.\n   * @param {Object} overrides.\n   * @param {?Object} defaults.\n   */\n  defaults: function(overrides, defaults) {\n    var result = {};\n\n    if (typeof overrides != 'object') {\n      overrides = {};\n    }\n\n    if (typeof defaults != 'object') {\n      defaults = {};\n    }\n\n    for (var key in defaults) {\n      if (defaults.hasOwnProperty(key)) {\n        result[key] = overrides.hasOwnProperty(key) ?\n            overrides[key] : defaults[key];\n      }\n    }\n    return result;\n  },\n\n\n  capitalize: function(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n\n\n  isObject: function(obj) {\n    return typeof obj == 'object' && obj !== null;\n  },\n\n\n  isArray: Array.isArray || function(arr) {\n    return Object.prototype.toString.call(arr) === '[object Array]';\n  },\n\n\n  toArray: function(obj) {\n    return utilities.isArray(obj) ? obj : [obj];\n  }\n};\n\nmodule.exports = utilities;\n\n},{}],13:[function(require,module,exports){\nvar matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n\n},{\"matches-selector\":22}],14:[function(require,module,exports){\nmodule.exports = Date.now || now\n\nfunction now() {\n    return new Date().getTime()\n}\n\n},{}],15:[function(require,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar now = require('date-now');\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = now() - timestamp;\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n};\n\n},{\"date-now\":14}],16:[function(require,module,exports){\nvar closest = require('closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector, true);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n},{\"closest\":13}],17:[function(require,module,exports){\nvar matches = require('./matches');\nvar parents = require('./parents');\n\n/**\n * Gets the closest parent element that matches the passed selector.\n * @param {Element} element The element whose parents to check.\n * @param {string} selector The CSS selector to match against.\n * @param {boolean} shouldCheckSelf True if the selector should test against\n *     the passed element itself.\n * @return {?Element} The matching element or undefined.\n */\nmodule.exports = function closest(element, selector, shouldCheckSelf) {\n  var parentElements =\n      (shouldCheckSelf ? [element] : []).concat(parents(element));\n\n  for (var i = 0, parent; parent = parentElements[i]; i++) {\n    if (matches(parent, selector)) return parent;\n  }\n};\n\n},{\"./matches\":19,\"./parents\":20}],18:[function(require,module,exports){\nvar closest = require('./closest');\nvar matches = require('./matches');\n\n/**\n * Delegates the handling of events for an element matching a selector to an\n * ancestor of the matching element.\n * @param {Element} ancestor The ancestor element to add the listener to.\n * @param {string} eventType The event type to listen to.\n * @param {string} selector A CSS selector to match against child elements.\n * @param {Function} callback A function to run any time the event happens.\n * @param {Object} opts A configuration options object. The available options:\n *     - useCapture<boolean>: If true, bind to the event capture phase.\n *     - deep<boolean>: If true, delegate into shadow trees.\n * @return {Object} The delegate object. It contains a destroy method.\n */\n module.exports = function delegate(\n    ancestor, eventType, selector, callback, opts) {\n\n  opts = opts || {};\n\n  // Defines the event listener.\n  var listener = function(event) {\n\n    // If opts.deep is true and the event originated from inside a Shadow DOM,\n    // check the deep nodes.\n    if (opts.deep && typeof event.deepPath == 'function') {\n      var path = event.deepPath();\n      for (var i = 0, node; node = path[i]; i++) {\n        if (node.nodeType == 1 && matches(node, selector)) {\n          delegateTarget = node;\n        }\n      }\n    }\n    // Otherwise check the parents.\n    else {\n      var delegateTarget = closest(event.target, selector, true);\n    }\n\n    if (delegateTarget) {\n      callback.call(delegateTarget, event, delegateTarget);\n    }\n  };\n\n  ancestor.addEventListener(eventType, listener, opts.useCapture);\n\n  return {\n    destroy: function() {\n      ancestor.removeEventListener(eventType, listener, opts.useCapture);\n    }\n  };\n};\n\n},{\"./closest\":17,\"./matches\":19}],19:[function(require,module,exports){\nvar proto = Element.prototype;\nvar nativeMatches = proto.matches ||\n    proto.matchesSelector ||\n    proto.webkitMatchesSelector ||\n    proto.mozMatchesSelector ||\n    proto.msMatchesSelector ||\n    proto.oMatchesSelector;\n\n\n/**\n * Tests whether a DOM element matches a selector. This polyfills the native\n * Element.prototype.matches method across browsers.\n * @param {Element} element The DOM element to test.\n * @param {string} selector The CSS selector to test element against.\n * @return {boolean} True if the selector matches.\n */\n function matchesSelector(element, selector) {\n  if (typeof selector != 'string') return false;\n  if (nativeMatches) return nativeMatches.call(element, selector);\n  var nodes = element.parentNode.querySelectorAll(selector);\n  for (var i = 0, node; node = nodes[i]; i++) {\n    if (node == element) return true;\n  }\n  return false;\n}\n\n\n/**\n * Tests if a DOM elements matches any of the test DOM elements or selectors.\n * @param {Element} element The DOM element to test.\n * @param {Element|string|Array<Element|String>} test A DOM element, a CSS\n *     selector, or an array of DOM elements or CSS selectors to match against.\n * @return {boolean} True of any part of the test matches.\n */\nmodule.exports = function matches(element, test) {\n  // Never match a falsy test object, but don't error either.\n  if (!test) return false;\n\n  // if test is a string or DOM element test it.\n  if (typeof test == 'string' || test.nodeType == 1) {\n    return element == test || matchesSelector(element, test);\n  }\n  // if it has a length property iterate over the items\n  // and return true if any match.\n  else if ('length' in test) {\n    for (var i = 0, item; item = test[i]; i++) {\n      if (element == item || matchesSelector(element, item)) return true;\n    }\n  }\n  // Still here? Return false\n  return false;\n};\n\n},{}],20:[function(require,module,exports){\n/**\n * Returns an array of a DOM element's parent elements.\n * @param {Element} element The DOM element whose parents to get.\n * @return {Array} An array of all parent elemets, or an empty array if no\n *     parent elements are found.\n */\nmodule.exports = function parents(element) {\n  var list = [];\n  while (element && element.parentNode && element.parentNode.nodeType == 1) {\n    list.push(element = element.parentNode);\n  }\n  return list;\n};\n\n},{}],21:[function(require,module,exports){\nvar HTTP_PORT = '80';\nvar HTTPS_PORT = '443';\n\n\nvar a = document.createElement('a');\nvar cache = {};\n\n\n/**\n * Parses the given url and returns an object mimicing a `Location` object.\n * @param {string} url The url to parse.\n * @return {Object} An object with the same properties as a `Location`\n *    plus the convience properties `path` and `query`.\n */\nmodule.exports = function parseUrl(url) {\n\n  // All falsy values (as well as \".\") should map to the current URL.\n  url = (!url || url == '.') ? location.href : url;\n\n  if (cache[url]) return cache[url];\n\n  a.href = url;\n\n  // When parsing file relative paths (e.g. `../index.html`), IE will correctly\n  // resolve the `href` property but will keep the `..` in the `path` property.\n  // To workaround this, we reparse with the full URL from the `href` property.\n  if (url.charAt(0) == '.') return parseUrl(a.href);\n\n  // Sometimes IE will return no port or just a colon, especially for things\n  // like relative port URLs (e.g. \"//google.com\").\n  var protocol = !a.protocol || ':' == a.protocol ?\n      location.protocol : a.protocol;\n\n  // Don't include default ports.\n  var port = (a.port == HTTP_PORT || a.port == HTTPS_PORT) ? '' : a.port;\n\n  // PhantomJS sets the port to \"0\" when using the file: protocol.\n  port = port == '0' ? '' : port;\n\n  // IE will return an empty string for host and hostname with a relative URL.\n  var host = a.host == '' ? location.host : a.host;\n  var hostname = a.hostname == '' ? location.hostname : a.hostname;\n\n  // Sometimes IE incorrectly includes a port (e.g. `:80` or `:443`)  even\n  // when no port is specified in the URL.\n  // http://bit.ly/1rQNoMg\n  host = host.replace(':' + (protocol == 'http:' ? HTTP_PORT : HTTPS_PORT), '');\n\n  // Not all browser support `origin` so we have to build it.\n  var origin = a.origin ? a.origin : protocol + '//' + host;\n\n  // Sometimes IE doesn't include the leading slash for pathname.\n  // http://bit.ly/1rQNoMg\n  var pathname = a.pathname.charAt(0) == '/' ? a.pathname : '/' + a.pathname;\n\n  return cache[url] = {\n    hash: a.hash,\n    host: host,\n    hostname: hostname,\n    href: a.href,\n    origin: origin,\n\n    pathname: pathname,\n    port: port,\n    protocol: protocol,\n    search: a.search,\n\n    // Expose additional helpful properties not part of the Location object.\n    fragment: a.hash.slice(1), // The hash without the starting \"#\".\n    path: pathname + a.search, // The pathname and the search query (w/o hash).\n    query: a.search.slice(1) // The search without the starting \"?\".\n  };\n};\n\n},{}],22:[function(require,module,exports){\n\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}\n},{}]},{},[5])\n\n","// Requires the individual autotrack plugins that are used in\n// templates/_analytics.html\nrequire('autotrack/lib/plugins/media-query-tracker');\nrequire('autotrack/lib/plugins/outbound-link-tracker');\nrequire('autotrack/lib/plugins/page-visibility-tracker');\nrequire('autotrack/lib/plugins/social-tracker');\n// require('autotrack/lib/plugins/url-change-tracker');\n","/* global ga */\n\nvar delegate = require('dom-utils/lib/delegate');\nvar parseUrl = require('dom-utils/lib/parse-url');\nvar History2 = require('./history2');\nvar drawer = require('./drawer');\n\n\n// Cache the container element to avoid multiple lookups.\nvar container;\n\n// Store the result of page content requests to avoid multiple\n// lookups when navigation to a previously seen page.\nvar pageCache = {};\n\n\nfunction getTitle(a) {\n  var title = a.title || a.innerText;\n  return title ? title + ' \\u2014 Philip Walton' : null;\n}\n\n\nfunction loadPageContent(done) {\n  var path = this.nextPage.path;\n\n  if (pageCache[path]) return done();\n\n  var basename = /(\\w+)\\.html$/;\n  var url = basename.test(path) ?\n      path.replace(basename, '_$1.html') : path + '_index.html';\n\n  var xhr = new XMLHttpRequest();\n  xhr.open('GET', url);\n  xhr.onload = function() {\n    if (xhr.status >= 200 && xhr.status < 400) {\n      pageCache[path] = xhr.responseText;\n      done();\n    }\n    else {\n      done(new Error('(' + xhr.status + ') ' + xhr.response));\n    }\n  };\n  xhr.onerror = function() {\n    done(new Error('Error making request to:' + url));\n  };\n  xhr.send();\n}\n\n\nfunction showPageContent() {\n  var content = pageCache[this.nextPage.path];\n  container.innerHTML = content;\n}\n\n\nfunction closeDrawer() {\n  drawer.close();\n}\n\n\nfunction setScroll() {\n  var hash = this.nextPage.hash;\n  if (hash) {\n    var target = document.getElementById(hash.slice(1));\n  }\n  var scrollPos = target ? target.offsetTop : 0;\n\n  // TODO: There's a weird chrome bug were sometime this function\n  // doesn't do anything if Chrome has already visited this page and\n  // thinks it has a scroll position in mind. Just chrome, weird...\n  window.scrollTo(0, scrollPos);\n}\n\n\nfunction trackPageview() {\n  ga('send', 'pageview', {dimension4: 'urlChangeTracker'});\n}\n\n\nfunction trackError(error) {\n  ga('send', 'exception', {exDescription: error.stack || error.message});\n}\n\n\nmodule.exports = {\n\n  init: function() {\n\n    // Only load external content via AJAX if the browser support pushState.\n    if (!(window.history && window.history.pushState)) return;\n\n    // Add the current page to the cache.\n    container = document.querySelector('main');\n    pageCache[location.pathname] = container.innerHTML;\n\n\n    var history2 = new History2()\n        .use(loadPageContent)\n        .use(showPageContent)\n        .use(closeDrawer)\n        .use(setScroll)\n        .use(trackPageview)\n        ['catch'](trackError);\n\n    delegate(document, 'click', 'a[href]', function(event) {\n\n      // Don't attempt to load content if the user is trying to open a new tab.\n      if (event.metaKey || event.ctrlKey || event.which > 1) return;\n\n      var page = parseUrl(location.href);\n      var link = parseUrl(this.href);\n\n      // Don't do anything when clicking on links to the current URL.\n      if (link.href == page.href) event.preventDefault();\n\n      // If the clicked link is on the same site but has a different path,\n      // prevent the browser from navigating there and load the page via ajax.\n      if ((link.origin == page.origin) && (link.path != page.path)) {\n        event.preventDefault();\n        history2.add(link.href, getTitle(this));\n      }\n    });\n  }\n};\n","var closest = require('dom-utils/lib/closest');\n\n\nvar drawerContainer = document.getElementById('drawer-container');\nvar drawerToggle = document.getElementById('drawer-toggle');\nvar isOpen = false;\n\n\nfunction addClass(element, className) {\n  var cls = element.className;\n  if (!cls) {\n    element.className = className;\n    return;\n  }\n  else if (cls.indexOf(className) > -1) {\n    return;\n  }\n  else {\n    element.className = cls + ' ' + className;\n  }\n}\n\n\nfunction removeClass(element, className) {\n  var cls = element.className;\n  if (cls.indexOf(className) < 0) return;\n\n  var prevClasses = cls.split(/\\s/);\n  var newClasses = [];\n  for (var i = 0, len = prevClasses.length; i < len; i++) {\n    if (className != prevClasses[i]) newClasses.push(prevClasses[i]);\n  }\n\n  if (!newClasses.length) {\n    element.removeAttribute('class');\n  }\n  else {\n    element.className = newClasses.join(' ');\n  }\n}\n\n\nfunction handleDrawerToggleClick(event) {\n  event.preventDefault();\n  isOpen ? close() : open();\n}\n\n\nfunction handleClickOutsideDrawerContainer(event) {\n  // Closes an open menu if the user clicked outside of the nav element.\n  if (isOpen && !closest(event.target, '#drawer-container', true)) close();\n}\n\n\nfunction open() {\n  isOpen = true;\n  addClass(document.documentElement, 'is-drawerOpen');\n}\n\n\nfunction close() {\n  isOpen = false;\n  removeClass(document.documentElement, 'is-drawerOpen');\n}\n\n\nmodule.exports = {\n  init: function() {\n    drawerToggle.addEventListener('click', handleDrawerToggleClick);\n    drawerToggle.addEventListener('touchend', handleDrawerToggleClick);\n\n    document.addEventListener('click', handleClickOutsideDrawerContainer);\n    document.addEventListener('touchend', handleClickOutsideDrawerContainer);\n  },\n  open: open,\n  close: close\n}\n","var parseUrl = require('dom-utils/lib/parse-url');\n\n\nfunction History2() {\n\n  // Store the current url information.\n  this.currentPage = parseUrl(window.location.href);\n  this.currentPage.title = document.title;\n\n  // Add history state initially so the first `popstate` event contains data.\n  history.replaceState(\n      this.currentPage,\n      this.currentPage.title,\n      this.currentPage.href);\n\n  this._queue = [];\n\n  // Listen for popstate changes and log them.\n  var self = this;\n  window.addEventListener('popstate', function(event) {\n    var state = event.state;\n    var title = state && state.title;\n    self.add(window.location.href, title, state, event);\n  });\n}\n\n\nHistory2.prototype.add = function(url, title, state, event) {\n\n  // Ignore urls pointing to the current address\n  if (url == this.currentPage.href) return;\n\n  this.nextPage = parseUrl(url);\n  this.nextPage.title = title;\n  this.nextPage.state = state;\n\n  this._processQueue(event);\n};\n\n\n/**\n * Register a plugin with the History2 instance.\n * @param {Function(History2, done)} - A plugin that runs some task and\n *     informs the next plugin in the queue when it's done.\n */\nHistory2.prototype.use = function(plugin) {\n  this._queue.push(plugin);\n\n  return this;\n};\n\n\n/**\n * Register a handler to catch any errors.\n * Note: In ES3 reserved words like \"catch\" couldn't be used as property names:\n * http://kangax.github.io/compat-table/es5/#Reserved_words_as_property_names\n * @param {Function(Error)} - The function to handle the error.\n */\nHistory2.prototype['catch'] = function(onError) {\n  this._onError = onError;\n\n  return this;\n};\n\n\nHistory2.prototype._onError = function(error) {\n  // Left blank so calling `_onError` never fails.\n  console.error(error.stack);\n};\n\n\nHistory2.prototype._onComplete = function(event) {\n\n  if (this.nextPage.title) document.title = this.nextPage.title;\n\n  // Popstate triggered navigation is already handled by the browser,\n  // so we only add to the history in non-popstate cases.\n  if (!(event && event.type == 'popstate')) {\n    history.pushState(\n        this.nextPage,\n        this.nextPage.title,\n        this.nextPage.href);\n  }\n\n  // Update the last url to the current url\n  this.currentPage = this.nextPage;\n  this.nextPage = null;\n};\n\n\nHistory2.prototype._processQueue = function(event) {\n  var self = this;\n  var i = 0;\n\n  (function next() {\n\n    var plugin = self._queue[i++];\n    var isSync = plugin && !plugin.length;\n\n    if (!plugin) return self._onComplete(event);\n\n    // The callback for async plugins.\n    function done(error) {\n      if (error) {\n        self._onError(error);\n      }\n      else {\n        next();\n      }\n    }\n\n    try {\n      plugin.apply(self, isSync ? [] : [done]);\n    }\n    catch(error) {\n      return self._onError(error);\n    }\n\n    // Sync plugins are done by now and can immediately process\n    // the next item in the queue.\n    if (isSync) next();\n\n  }());\n};\n\n\nmodule.exports = History2;\n","// Loads autotrack plugins.\nrequire('./analytics');\n\n// Loads link via AJAX instead of full page loads in browsers with pushState.\nrequire('./content-loader').init();\n\n// Turns on the collapsable drawer.\nrequire('./drawer').init();\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nmodule.exports = {\n  DEV_ID: 'i5iSjo'\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar debounce = require('debounce');\nvar defaults = require('../utilities').defaults;\nvar isObject = require('../utilities').isObject;\nvar toArray = require('../utilities').toArray;\nvar provide = require('../provide');\n\n\n/**\n * Sets the string to use when no custom dimension value is available.\n */\nvar NULL_DIMENSION = '(not set)';\n\n\n/**\n * Declares the MediaQueryListener instance cache.\n */\nvar mediaMap = {};\n\n\n/**\n * Registers media query tracking.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction MediaQueryTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.matchMedia) return;\n\n  this.opts = defaults(opts, {\n    mediaQueryDefinitions: false,\n    mediaQueryChangeTemplate: this.changeTemplate,\n    mediaQueryChangeTimeout: 1000\n  });\n\n  // Exits early if media query data doesn't exist.\n  if (!isObject(this.opts.mediaQueryDefinitions)) return;\n\n  this.opts.mediaQueryDefinitions = toArray(this.opts.mediaQueryDefinitions);\n  this.tracker = tracker;\n  this.changeListeners = [];\n\n  this.processMediaQueries();\n}\n\n\n/**\n * Loops through each media query definition, sets the custom dimenion data,\n * and adds the change listeners.\n */\nMediaQueryTracker.prototype.processMediaQueries = function() {\n  this.opts.mediaQueryDefinitions.forEach(function(dimension) {\n\n    if (!dimension.dimensionIndex) {\n      throw new Error('Media query definitions must have a name.');\n    }\n\n    if (!dimension.dimensionIndex) {\n      throw new Error('Media query definitions must have a dimension index.');\n    }\n\n    var name = this.getMatchName(dimension);\n    this.tracker.set('dimension' + dimension.dimensionIndex, name);\n\n    this.addChangeListeners(dimension);\n  }.bind(this));\n};\n\n\n/**\n * Takes a dimension object and return the name of the matching media item.\n * If no match is found, the NULL_DIMENSION value is returned.\n * @param {Object} dimension A set of named media queries associated\n *     with a single custom dimension.\n * @return {string} The name of the matched media or NULL_DIMENSION.\n */\nMediaQueryTracker.prototype.getMatchName = function(dimension) {\n  var match;\n\n  dimension.items.forEach(function(item) {\n    if (getMediaListener(item.media).matches) {\n      match = item;\n    }\n  });\n  return match ? match.name : NULL_DIMENSION;\n};\n\n\n/**\n * Adds change listeners to each media query in the dimension list.\n * Debounces the changes to prevent unnecessary hits from being sent.\n * @param {Object} dimension A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.addChangeListeners = function(dimension) {\n  dimension.items.forEach(function(item) {\n    var mql = getMediaListener(item.media);\n    var fn = debounce(function() {\n      this.handleChanges(dimension);\n    }.bind(this), this.opts.mediaQueryChangeTimeout);\n\n    mql.addListener(fn);\n    this.changeListeners.push({mql: mql, fn: fn});\n  }.bind(this));\n};\n\n\n/**\n * Handles changes to the matched media. When the new value differs from\n * the old value, a change event is sent.\n * @param {Object} dimension A set of named media queries associated\n *     with a single custom dimension\n */\nMediaQueryTracker.prototype.handleChanges = function(dimension) {\n  var newValue = this.getMatchName(dimension);\n  var oldValue = this.tracker.get('dimension' + dimension.dimensionIndex);\n\n  if (newValue !== oldValue) {\n    this.tracker.set('dimension' + dimension.dimensionIndex, newValue);\n    this.tracker.send('event', dimension.name, 'change',\n        this.opts.mediaQueryChangeTemplate(oldValue, newValue));\n  }\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nMediaQueryTracker.prototype.remove = function() {\n  for (var i = 0, listener; listener = this.changeListeners[i]; i++) {\n    listener.mql.removeListener(listener.fn);\n  }\n  this.changeListeners = null;\n  this.tracker = null;\n  this.opts = null;\n};\n\n\n/**\n * Sets the default formatting of the change event label.\n * This can be overridden by setting the `mediaQueryChangeTemplate` option.\n * @param {string} oldValue\n * @param {string} newValue\n * @return {string} The formatted event label.\n */\nMediaQueryTracker.prototype.changeTemplate = function(oldValue, newValue) {\n  return oldValue + ' => ' + newValue;\n};\n\n\n\n/**\n * Accepts a media query and returns a MediaQueryListener object.\n * Caches the values to avoid multiple unnecessary instances.\n * @param {string} media A media query value.\n * @return {MediaQueryListener}\n */\nfunction getMediaListener(media) {\n  // Returns early if the media is cached.\n  if (mediaMap[media]) return mediaMap[media];\n\n  mediaMap[media] = window.matchMedia(media);\n  return mediaMap[media];\n}\n\n\nprovide('mediaQueryTracker', MediaQueryTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar defaults = require('../utilities').defaults;\nvar delegate = require('delegate');\nvar provide = require('../provide');\n\n\n/**\n * Registers outbound link tracking on a tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction OutboundLinkTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    shouldTrackOutboundLink: this.shouldTrackOutboundLink\n  });\n\n  this.tracker = tracker;\n\n  this.delegate = delegate(document, 'a',\n      'click', this.handleLinkClicks.bind(this));\n}\n\n\n/**\n * Handles all clicks on link elements. A link is considered an outbound link\n * its hostname property does not match location.hostname. When the beacon\n * transport method is not available, the links target is set to \"_blank\" to\n * ensure the hit can be sent.\n * @param {Event} event The DOM click event.\n */\nOutboundLinkTracker.prototype.handleLinkClicks = function(event) {\n  var link = event.delegateTarget;\n  if (this.opts.shouldTrackOutboundLink(link)) {\n    // Opens outbound links in a new tab if the browser doesn't support\n    // the beacon transport method.\n    if (!navigator.sendBeacon) {\n      link.target = '_blank';\n    }\n    this.tracker.send('event', 'Outbound Link', 'click', link.href, {\n      transport: 'beacon'\n    });\n  }\n};\n\n\n/**\n * Determines whether or not the tracker should send a hit when a link is\n * clicked. By default links with a hostname property not equal to the current\n * hostname are tracked.\n * @param {Element} link The link that was clicked on.\n * @return {boolean} Whether or not the link should be tracked.\n */\nOutboundLinkTracker.prototype.shouldTrackOutboundLink = function(link) {\n  return link.hostname != location.hostname;\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nOutboundLinkTracker.prototype.remove = function() {\n  this.delegate.destroy();\n  this.delegate = null;\n  this.tracker = null;\n  this.opts = null;\n};\n\n\nprovide('outboundLinkTracker', OutboundLinkTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar defaults = require('../utilities').defaults;\nvar isObject = require('../utilities').isObject;\nvar provide = require('../provide');\n\n\nvar DEFAULT_SESSION_TIMEOUT = 30; // 30 minutes.\n\n\n/**\n * Registers outbound link tracking on tracker object.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction PageVisibilityTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    sessionTimeout: DEFAULT_SESSION_TIMEOUT,\n    virtualPageviewFields: {},\n  });\n\n  this.tracker = tracker;\n\n  // Binds methods to `this`.\n  this.handleVisibilityStateChange = this.handleVisibilityStateChange.bind(this);\n\n\n  this.overrideTrackerSendMethod();\n  this.overrideTrackerSendHitTask();\n\n  document.addEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n}\n\n\n/**\n * Handles changes to `document.visibilityState`.\n */\nPageVisibilityTracker.prototype.handleVisibilityStateChange = function() {\n  var visibilityState = document.visibilityState;\n\n  if (this.sessionHasTimedOut()) {\n    // Prevents sending 'hidden' state hits when the session has timed out.\n    if (visibilityState == 'hidden') return;\n\n    if (visibilityState == 'visible') {\n      // If the session has timed out, a transition to \"visible\" should be\n      // considered a new pageview and a new session.\n      this.tracker.send('pageview', this.opts.virtualPageviewFields);\n    }\n  }\n  else {\n    this.tracker.send('event', {\n      eventCategory: 'Page Visibility',\n      eventAction: 'change',\n      eventLabel: document.visibilityState,\n      transport: 'beacon'\n    });\n  }\n};\n\n\n/**\n * Returns true if the session has not timed out. A session timeout occurs when\n * more than `this.opts.sessionTimeout` minutes has elapsed since the\n * tracker sent the previous hit.\n * @return {boolean} True if the session has timed out.\n */\nPageVisibilityTracker.prototype.sessionHasTimedOut = function() {\n  var minutesSinceLastHit = (new Date - this.lastHitTime) / (60 * 1000);\n  return this.opts.sessionTimeout < minutesSinceLastHit;\n}\n\n\n/**\n * Overrides the `tracker.send` method to send a pageview hit before the\n * current hit being sent if the session has timed out and the current hit is\n * not a pageview itself.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendMethod = function() {\n  this.originalTrackerSendMethod = this.tracker.send;\n\n  this.tracker.send = function() {\n    var args = Array.prototype.slice.call(arguments);\n    var firstArg = args[0];\n    var hitType = isObject(firstArg) ? firstArg.hitType : firstArg;\n    var isPageview = hitType == 'pageview';\n\n    if (!isPageview && this.sessionHasTimedOut()) {\n      this.originalTrackerSendMethod.call(this.tracker,\n          'pageview', this.opts.virtualPageviewFields);\n    }\n\n    this.originalTrackerSendMethod.apply(this.tracker, args);\n  }.bind(this);\n};\n\n\n/**\n * Overrides the tracker's `sendHitTask` to record the time of the previous\n * hit. This is used to determine whether or not a session has timed out.\n */\nPageVisibilityTracker.prototype.overrideTrackerSendHitTask = function() {\n  this.originalTrackerSendHitTask = this.tracker.get('sendHitTask');\n  this.lastHitTime = +new Date;\n\n  this.tracker.set('sendHitTask', function(model) {\n    this.originalTrackerSendHitTask(model);\n    this.lastHitTime = +new Date;\n  }.bind(this));\n}\n\n\n/**\n * Removes all event listeners and instance properties.\n */\n PageVisibilityTracker.prototype.remove = function() {\n  this.tracker.set('sendHitTask', this.originalTrackerSendHitTask);\n  this.tracker.send = this.originalTrackerSendMethod;\n\n  document.removeEventListener(\n      'visibilitychange', this.handleVisibilityStateChange);\n\n  this.tracker = null;\n  this.opts = null;\n\n  this.originalTrackerSendHitTask = null;\n  this.originalTrackerSendMethod = null;\n  this.handleVisibilityStateChange = null;\n  this.lastHitTime = null;\n};\n\n\nprovide('pageVisibilityTracker', PageVisibilityTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar defaults = require('../utilities').defaults;\nvar delegate = require('delegate');\nvar provide = require('../provide');\n\n\n/**\n * Registers social tracking on tracker object.\n * Supports both declarative social tracking via HTML attributes as well as\n * tracking for social events when using official Twitter or Facebook widgets.\n * @constructor\n * @param {Object} tracker Passed internally by analytics.js\n * @param {?Object} opts Passed by the require command.\n */\nfunction SocialTracker(tracker, opts) {\n\n  // Feature detects to prevent errors in unsupporting browsers.\n  if (!window.addEventListener) return;\n\n  this.opts = defaults(opts, {\n    attributePrefix: 'data-'\n  });\n\n  this.tracker = tracker;\n\n  var prefix = this.opts.attributePrefix;\n  var selector = '[' + prefix + 'social-network]' +\n                 '[' + prefix + 'social-action]' +\n                 '[' + prefix + 'social-target]';\n\n  // Binds methods to `this`.\n  this.handleSocialClicks = this.handleSocialClicks.bind(this);\n  this.addWidgetListeners = this.addWidgetListeners.bind(this);\n  this.addTwitterEventHandlers = this.addTwitterEventHandlers.bind(this);\n  this.handleTweetEvents = this.handleTweetEvents.bind(this);\n  this.handleFollowEvents = this.handleFollowEvents.bind(this);\n  this.handleLikeEvents = this.handleLikeEvents.bind(this);\n  this.handleUnlikeEvents = this.handleUnlikeEvents.bind(this);\n\n  this.delegate = delegate(document, selector,\n      'click', this.handleSocialClicks);\n\n  if (document.readyState != 'complete') {\n    // Adds the widget listeners after the window's `load` event fires.\n    // If loading widgets using the officially recommended snippets, they\n    // will be available at `window.load`. If not users can call the\n    // `addWidgetListeners` method manually.\n    window.addEventListener('load', this.addWidgetListeners);\n  }\n  else {\n    this.addWidgetListeners();\n  }\n}\n\n\n/**\n * Invokes the methods to add Facebook and Twitter widget event listeners.\n * Ensures the respective global namespaces are present before adding.\n */\nSocialTracker.prototype.addWidgetListeners = function() {\n  if (window.FB) this.addFacebookEventHandlers();\n  if (window.twttr) this.addTwitterEventHandlers();\n}\n\n\n/**\n * Handles all clicks on elements with social tracking attributes.\n * @param {Event} event The DOM click event.\n */\nSocialTracker.prototype.handleSocialClicks = function(event) {\n\n  var link = event.delegateTarget;\n  var prefix = this.opts.attributePrefix;\n\n  this.tracker.send('social', {\n    socialNetwork: link.getAttribute(prefix + 'social-network'),\n    socialAction: link.getAttribute(prefix + 'social-action'),\n    socialTarget: link.getAttribute(prefix + 'social-target')\n  });\n};\n\n\n/**\n * Adds event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons. Note: this does not capture tweet or\n * follow events emitted by other Twitter widgets (tweet, timeline, etc.).\n */\nSocialTracker.prototype.addTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.bind('tweet', this.handleTweetEvents);\n      twttr.events.bind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"tweet\" and \"follow\" events emitted by the\n * official tweet and follow buttons.\n */\nSocialTracker.prototype.removeTwitterEventHandlers = function() {\n  try {\n    twttr.ready(function() {\n      twttr.events.unbind('tweet', this.handleTweetEvents);\n      twttr.events.unbind('follow', this.handleFollowEvents);\n    }.bind(this));\n  } catch(err) {}\n};\n\n\n/**\n * Adds event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialTracker.prototype.addFacebookEventHandlers = function() {\n  try {\n    FB.Event.subscribe('edge.create', this.handleLikeEvents);\n    FB.Event.subscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Removes event handlers for the \"like\" and \"unlike\" events emitted by the\n * official Facebook like button.\n */\nSocialTracker.prototype.removeFacebookEventHandlers = function() {\n  try {\n    FB.Event.unsubscribe('edge.create', this.handleLikeEvents);\n    FB.Event.unsubscribe('edge.remove', this.handleUnlikeEvents);\n  } catch(err) {}\n};\n\n\n/**\n * Handles `tweet` events emitted by the Twitter JS SDK.\n */\nSocialTracker.prototype.handleTweetEvents = function(event) {\n  // Ignores tweets from widgets that aren't the tweet button.\n  if (event.region != 'tweet') return;\n\n  var url = event.data.url || event.target.getAttribute('data-url') ||\n      location.href;\n\n  this.tracker.send('social', 'Twitter', 'tweet', url);\n};\n\n\n/**\n * Handles `follow` events emitted by the Twitter JS SDK.\n */\nSocialTracker.prototype.handleFollowEvents = function(event) {\n  // Ignore follows from widgets that aren't the follow button.\n  if (event.region != 'follow') return;\n\n  var screenName = event.data.screen_name ||\n      event.target.getAttribute('data-screen-name');\n\n  this.tracker.send('social', 'Twitter', 'follow', screenName);\n}\n\n\n/**\n * Handles `like` events emitted by the Facebook JS SDK.\n */\nSocialTracker.prototype.handleLikeEvents = function(url) {\n  this.tracker.send('social', 'Facebook', 'like', url);\n};\n\n\n/**\n * Handles `unlike` events emitted by the Facebook JS SDK.\n */\nSocialTracker.prototype.handleUnlikeEvents = function(url) {\n  this.tracker.send('social', 'Facebook', 'unlike', url);\n};\n\n\n/**\n * Removes all event listeners and instance properties.\n */\nSocialTracker.prototype.remove = function() {\n  window.removeEventListener('load', this.addWidgetListeners);\n  this.removeFacebookEventHandlers();\n  this.removeTwitterEventHandlers();\n\n  this.delegate.destroy();\n  this.delegate = null;\n  this.tracker = null;\n  this.opts = null;\n\n  this.handleSocialClicks = null;\n  this.addWidgetListeners = null;\n  this.addTwitterEventHandlers = null;\n  this.handleTweetEvents = null;\n  this.handleFollowEvents = null;\n  this.handleLikeEvents = null;\n  this.handleUnlikeEvents = null;\n};\n\n\nprovide('socialTracker', SocialTracker);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar constants = require('./constants');\nvar utilities = require('./utilities');\n\n\n// Adds the dev ID to the list of dev IDs if any plugin is used.\n(window.gaDevIds = window.gaDevIds || []).push(constants.DEV_ID);\n\n\n/**\n * Provides a plugin for use with analytics.js, accounting for the possibility\n * that the global command queue has been renamed or not yet defined.\n * @param {string} pluginName The plugin name identifier.\n * @param {Function} pluginConstructor The plugin constructor function.\n */\nmodule.exports = function providePlugin(pluginName, pluginConstructor) {\n  var gaAlias = window['GoogleAnalyticsObject'] || 'ga';\n  window[gaAlias] = window[gaAlias] || function() {\n    (window[gaAlias]['q'] = window[gaAlias]['q'] || []).push(arguments);\n  };\n\n  // Formally provides the plugin for use with analytics.js.\n  window[gaAlias]('provide', pluginName, pluginConstructor);\n\n  // Registers the plugin on the global gaplugins object.\n  window.gaplugins = window.gaplugins || {};\n  window.gaplugins[utilities.capitalize(pluginName)] = pluginConstructor;\n};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nvar utilities = {\n\n  /**\n   * Accepts a function and returns a wrapped version of the function that is\n   * expected to be called elsewhere in the system. If it's not called\n   * elsewhere after the timeout period, it's called regardless. The wrapper\n   * function also prevents the callback from being called more than once.\n   * @param {Function} callback The function to call.\n   * @param {number} wait How many milliseconds to wait before invoking\n   *     the callback.\n   */\n  withTimeout: function(callback, wait) {\n    var called = false;\n    setTimeout(callback, wait || 2000);\n    return function() {\n      if (!called) {\n        called = true;\n        callback();\n      }\n    };\n  },\n\n\n  /**\n   * Accepts an object of overrides and defaults and returns a new object\n   * with the values merged. For each key in defaults, if there's a\n   * corresponding value in overrides, it gets used.\n   * @param {Object} overrides.\n   * @param {?Object} defaults.\n   */\n  defaults: function(overrides, defaults) {\n    var result = {};\n\n    if (typeof overrides != 'object') {\n      overrides = {};\n    }\n\n    if (typeof defaults != 'object') {\n      defaults = {};\n    }\n\n    for (var key in defaults) {\n      if (defaults.hasOwnProperty(key)) {\n        result[key] = overrides.hasOwnProperty(key) ?\n            overrides[key] : defaults[key];\n      }\n    }\n    return result;\n  },\n\n\n  capitalize: function(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  },\n\n\n  isObject: function(obj) {\n    return typeof obj == 'object' && obj !== null;\n  },\n\n\n  isArray: Array.isArray || function(arr) {\n    return Object.prototype.toString.call(arr) === '[object Array]';\n  },\n\n\n  toArray: function(obj) {\n    return utilities.isArray(obj) ? obj : [obj];\n  }\n};\n\nmodule.exports = utilities;\n","var matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n","module.exports = Date.now || now\n\nfunction now() {\n    return new Date().getTime()\n}\n","\n/**\n * Module dependencies.\n */\n\nvar now = require('date-now');\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = now() - timestamp;\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n};\n","var closest = require('closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector, true);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","var matches = require('./matches');\nvar parents = require('./parents');\n\n/**\n * Gets the closest parent element that matches the passed selector.\n * @param {Element} element The element whose parents to check.\n * @param {string} selector The CSS selector to match against.\n * @param {boolean} shouldCheckSelf True if the selector should test against\n *     the passed element itself.\n * @return {?Element} The matching element or undefined.\n */\nmodule.exports = function closest(element, selector, shouldCheckSelf) {\n  var parentElements =\n      (shouldCheckSelf ? [element] : []).concat(parents(element));\n\n  for (var i = 0, parent; parent = parentElements[i]; i++) {\n    if (matches(parent, selector)) return parent;\n  }\n};\n","var closest = require('./closest');\nvar matches = require('./matches');\n\n/**\n * Delegates the handling of events for an element matching a selector to an\n * ancestor of the matching element.\n * @param {Element} ancestor The ancestor element to add the listener to.\n * @param {string} eventType The event type to listen to.\n * @param {string} selector A CSS selector to match against child elements.\n * @param {Function} callback A function to run any time the event happens.\n * @param {Object} opts A configuration options object. The available options:\n *     - useCapture<boolean>: If true, bind to the event capture phase.\n *     - deep<boolean>: If true, delegate into shadow trees.\n * @return {Object} The delegate object. It contains a destroy method.\n */\n module.exports = function delegate(\n    ancestor, eventType, selector, callback, opts) {\n\n  opts = opts || {};\n\n  // Defines the event listener.\n  var listener = function(event) {\n\n    // If opts.deep is true and the event originated from inside a Shadow DOM,\n    // check the deep nodes.\n    if (opts.deep && typeof event.deepPath == 'function') {\n      var path = event.deepPath();\n      for (var i = 0, node; node = path[i]; i++) {\n        if (node.nodeType == 1 && matches(node, selector)) {\n          delegateTarget = node;\n        }\n      }\n    }\n    // Otherwise check the parents.\n    else {\n      var delegateTarget = closest(event.target, selector, true);\n    }\n\n    if (delegateTarget) {\n      callback.call(delegateTarget, event, delegateTarget);\n    }\n  };\n\n  ancestor.addEventListener(eventType, listener, opts.useCapture);\n\n  return {\n    destroy: function() {\n      ancestor.removeEventListener(eventType, listener, opts.useCapture);\n    }\n  };\n};\n","var proto = Element.prototype;\nvar nativeMatches = proto.matches ||\n    proto.matchesSelector ||\n    proto.webkitMatchesSelector ||\n    proto.mozMatchesSelector ||\n    proto.msMatchesSelector ||\n    proto.oMatchesSelector;\n\n\n/**\n * Tests whether a DOM element matches a selector. This polyfills the native\n * Element.prototype.matches method across browsers.\n * @param {Element} element The DOM element to test.\n * @param {string} selector The CSS selector to test element against.\n * @return {boolean} True if the selector matches.\n */\n function matchesSelector(element, selector) {\n  if (typeof selector != 'string') return false;\n  if (nativeMatches) return nativeMatches.call(element, selector);\n  var nodes = element.parentNode.querySelectorAll(selector);\n  for (var i = 0, node; node = nodes[i]; i++) {\n    if (node == element) return true;\n  }\n  return false;\n}\n\n\n/**\n * Tests if a DOM elements matches any of the test DOM elements or selectors.\n * @param {Element} element The DOM element to test.\n * @param {Element|string|Array<Element|String>} test A DOM element, a CSS\n *     selector, or an array of DOM elements or CSS selectors to match against.\n * @return {boolean} True of any part of the test matches.\n */\nmodule.exports = function matches(element, test) {\n  // Never match a falsy test object, but don't error either.\n  if (!test) return false;\n\n  // if test is a string or DOM element test it.\n  if (typeof test == 'string' || test.nodeType == 1) {\n    return element == test || matchesSelector(element, test);\n  }\n  // if it has a length property iterate over the items\n  // and return true if any match.\n  else if ('length' in test) {\n    for (var i = 0, item; item = test[i]; i++) {\n      if (element == item || matchesSelector(element, item)) return true;\n    }\n  }\n  // Still here? Return false\n  return false;\n};\n","/**\n * Returns an array of a DOM element's parent elements.\n * @param {Element} element The DOM element whose parents to get.\n * @return {Array} An array of all parent elemets, or an empty array if no\n *     parent elements are found.\n */\nmodule.exports = function parents(element) {\n  var list = [];\n  while (element && element.parentNode && element.parentNode.nodeType == 1) {\n    list.push(element = element.parentNode);\n  }\n  return list;\n};\n","var HTTP_PORT = '80';\nvar HTTPS_PORT = '443';\n\n\nvar a = document.createElement('a');\nvar cache = {};\n\n\n/**\n * Parses the given url and returns an object mimicing a `Location` object.\n * @param {string} url The url to parse.\n * @return {Object} An object with the same properties as a `Location`\n *    plus the convience properties `path` and `query`.\n */\nmodule.exports = function parseUrl(url) {\n\n  // All falsy values (as well as \".\") should map to the current URL.\n  url = (!url || url == '.') ? location.href : url;\n\n  if (cache[url]) return cache[url];\n\n  a.href = url;\n\n  // When parsing file relative paths (e.g. `../index.html`), IE will correctly\n  // resolve the `href` property but will keep the `..` in the `path` property.\n  // To workaround this, we reparse with the full URL from the `href` property.\n  if (url.charAt(0) == '.') return parseUrl(a.href);\n\n  // Sometimes IE will return no port or just a colon, especially for things\n  // like relative port URLs (e.g. \"//google.com\").\n  var protocol = !a.protocol || ':' == a.protocol ?\n      location.protocol : a.protocol;\n\n  // Don't include default ports.\n  var port = (a.port == HTTP_PORT || a.port == HTTPS_PORT) ? '' : a.port;\n\n  // PhantomJS sets the port to \"0\" when using the file: protocol.\n  port = port == '0' ? '' : port;\n\n  // IE will return an empty string for host and hostname with a relative URL.\n  var host = a.host == '' ? location.host : a.host;\n  var hostname = a.hostname == '' ? location.hostname : a.hostname;\n\n  // Sometimes IE incorrectly includes a port (e.g. `:80` or `:443`)  even\n  // when no port is specified in the URL.\n  // http://bit.ly/1rQNoMg\n  host = host.replace(':' + (protocol == 'http:' ? HTTP_PORT : HTTPS_PORT), '');\n\n  // Not all browser support `origin` so we have to build it.\n  var origin = a.origin ? a.origin : protocol + '//' + host;\n\n  // Sometimes IE doesn't include the leading slash for pathname.\n  // http://bit.ly/1rQNoMg\n  var pathname = a.pathname.charAt(0) == '/' ? a.pathname : '/' + a.pathname;\n\n  return cache[url] = {\n    hash: a.hash,\n    host: host,\n    hostname: hostname,\n    href: a.href,\n    origin: origin,\n\n    pathname: pathname,\n    port: port,\n    protocol: protocol,\n    search: a.search,\n\n    // Expose additional helpful properties not part of the Location object.\n    fragment: a.hash.slice(1), // The hash without the starting \"#\".\n    path: pathname + a.search, // The pathname and the search query (w/o hash).\n    query: a.search.slice(1) // The search without the starting \"?\".\n  };\n};\n","\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}"],"sourceRoot":"/source/"}